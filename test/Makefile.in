#Open Babel test Makefile

CC            = @CC@
CXX	      = @CXX@

CFLAGS        = @CFLAGS@
CXXFLAGS      = @CXXFLAGS@
LIBS	      = @LIBS@ -lopenbabel
LIBFLAGS      = 

LINKER	      = $(CXX)
LDFLAGS       = -L../src/

srcdir        = @srcdir@
VPATH         = @srcdir@
top_srcdir    = @top_srcdir@
top_builddir  = @top_builddir@
builddir      = @top_builddir@test

HDRS	      = 

OBJS	      =	ringtest.o smartstest.o matrixtest.o main.o unitcell.o \

PROGRAM	      = obtest

DATAFILES     = attype.00.smi smartstest.txt smartsresults.txt \
		ringresults.txt unitcell.txt

ROUNDOBJS     = roundtrip.o

ROUNDPROG     = roundtrip

$(PROGRAM):     $(OBJS) $(MAIN) 
		$(LINKER) $(LDFLAGS) $(OBJS) $(MAIN) -o  $(PROGRAM) $(LIBS)

$(ROUNDPROG):	$(ROUNDOBJS)
		$(LINKER) $(LDFLAGS) $(ROUNDOBJS) -o $(ROUNDPROG) $(LIBS)

all:;		

test:		check
check:		$(PROGRAM) $(ROUNDPROG)
		-@(cd $(srcdir); cp -f $(DATAFILES) $(PWD) 2>/dev/null)
		./$(PROGRAM)

clean:;		$(RM) $(OBJS) $(MAIN) $(PROGRAM) $(ROUNDOBJS) $(ROUNDPROG)
distclean:	clean
		$(RM) Makefile

install:	$(PROGRAM)

print:;		$(PRINT) $(HDRS) $(SRCS)

# Update the Makefile if the Makefile.in or configure script changes
Makefile:	$(srcdir)/Makefile.in
		(cd ..; ./config.status)

.SUFFIXES:	.cpp
.cpp.o:
		$(CXX) -I$(top_srcdir)/src/ $(CXXFLAGS) -c $< -o $@
